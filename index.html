<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Controle ICMP by M3nin0</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Controle ICMP</h1>
          <h2>Shell reverso com ICMP</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/M3nin0/icmpsh/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/M3nin0/icmpsh/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/M3nin0/icmpsh" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h2>
<a id="cenário" class="anchor" href="#cen%C3%A1rio" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cenário</h2>

<p>O ICMP não tem pacotes pré-definidos para envia-los, todos os pacotes são criados pelo S.O, o que permite que muitos pacotes sejam forjados. Utilido deste codigo para o desenvilvimento de meu TCC, que trata exatamente sobre como pequenos descuidos como este pode gerar grandes problemas.
Agradecimentos ao Nico e ao Bernardo que inicialmente criaram este código fantastico.</p>

<h2>
<a id="descrição" class="anchor" href="#descri%C3%A7%C3%A3o" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Descrição</h2>

<p>Este código inicialmente necessitava da interação dos dois lados para iniciar a troca de pacotes ICMP, com pequenos ajustes fiz com que este se tornasse um backdoor, sendo capaz de se instalar no computador da vitima, enviar informações de endereço IP e se manter ativo ate a reinicialização do sistema.</p>

<p>Tudo aqui mencionado foi desenvolido exclusivamente para o TCC de meu curso em Redes de Computadores.</p>

<h2>
<a id="uso" class="anchor" href="#uso" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Uso</h2>

<h3>
<a id="executando-o-mestre" class="anchor" href="#executando-o-mestre" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Executando o Mestre</h3>

<p>Para executar o mestre é necessario algumas bibliotecas, são elas:</p>

<ul>
<li>IO::Socket</li>
<li>NetPacket::IP</li>
<li>NetPacket::ICMP</li>
</ul>

<p>E para que o mestre consiga responder aos chamados do escravo, é necessario desabilitar o não envio de respostas ICMP contido nos sistemas Linux</p>

<pre><code>sysctl -w net.ipv4.icmp_echo_ignore_all=1
</code></pre>

<p>Caso não execute o comando acima, não recebera as requisições do escravo</p>

<h3>
<a id="executando-o-escravo" class="anchor" href="#executando-o-escravo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Executando o escravo</h3>

<p>Para executar o escravo é necessario antes fazer uma pequena alteração</p>

<pre><code>Na linha 179 é necessario inserir seu endereço IP

OBS: Caso esteja abaixo de um NAT é necessario utilizar algum programa que mantenha seu IP ativo na internet
</code></pre>

<h3>
<a id="configurando-o-envio-de-ip" class="anchor" href="#configurando-o-envio-de-ip" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configurando o envio de IP</h3>

<p>O envio de IP se baseia em um codigo escrito em Python, criado por Phoemur, que busca seu endereço de IP publico, em um site aleatorio prensete na lista.
Neste projeto este foi alterado para enviar o endereço IP externo de quem faz a execução do codigo escravo</p>

<p>Suas configurações são feitas da seguinte maneira </p>

<pre><code>* Edite o código "pass_string.py" com suas informações de conta de email
* Execute o código "setup_pass_string.py"
* Em seguida rode o código gerado pelo "setup_pass_string.py"
* Pronto agora basta anexar o codigo gerado no passo acima aos demais arquivos e fazer o envio
OBS: Observe os caminhos de origem e destino de cada um dos scripts antes de executa-los
</code></pre>
        </section>

        <footer>
          Controle ICMP is maintained by <a href="https://github.com/M3nin0">M3nin0</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-32955158-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>
